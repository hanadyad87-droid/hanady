<template>
  <div class="fixed top-0 right-0 h-screenw-16 sm:w-24 md:w-64
bg-primary text-white flex flex-col p-4">
    <h2 class="text-lg font-bold text-center mb-6 py-2 border-b border-blue-700">
      Ù‡ÙŠØ¦Ø© Ø§Ù„Ø±Ù‚Ø§Ø¨Ø©
    </h2>

    <ul class="flex flex-col gap-2">
      <!-- Ø±ÙˆØ§Ø¨Ø· Ø¹Ø§Ø¯ÙŠØ© -->
      <li v-for="link in normalLinks" :key="link.name">
        <router-link
          :to="link.path"
          class="flex flex-row-reverse items-center gap-2 p-2 rounded-lg transition hover:bg-blue-900"
          :class="{ 'bg-blue-900 font-bold': $route.path === link.path }"
        >
          <span class="text-xl">{{ link.icon }}</span>
          <span class="text-sm">{{ link.name }}</span>
        </router-link>
      </li>

      <!-- Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
   <li>
  <router-link
    to="/requests"
    class="flex flex-row-reverse items-center gap-2 p-2 rounded-lg transition hover:bg-blue-900"
    :class="{ 'bg-blue-900 font-bold': $route.path.startsWith('/requests') }"
  >
    <span class="text-xl">ðŸ“„</span>
    <span class="text-sm">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</span>
  </router-link>
</li>

    </ul>
  </div>
</template>

<script>
export default {
  name: "SidebarPage",
  data() {
    return {
      showRequests: false,
    };
  },
  computed: {
    role() {
      return localStorage.getItem("role") || "Employee";
    },
    normalLinks() {
      const links = [
        { name: "Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", path: "/dashboard", icon: "ðŸ ", roles: ["Employee", "SuperAdmin"] },
        { name: "Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù", path: "/employee", icon: "ðŸ‘¤", roles: ["SuperAdmin"] },
        { name: "Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª", path: "/notifications", icon: "ðŸ””", roles: ["Employee", "SuperAdmin"] },
        { name: "Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª", path: "/leaves", icon: "âœˆï¸", roles: ["Employee", "SuperAdmin"] },
        { name: "Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰", path: "/complaints", icon: "ðŸ“", roles: ["Employee", "SuperAdmin"] },
        { name: "Ø§Ù„ØªÙƒÙ„ÙŠÙØ§Øª ", path: "/tasks", icon: "ðŸ’¼", roles: ["Employee", "SuperAdmin"] },
        { name: "Ø§Ù„Ù†Ù…Ø§Ø°Ø¬", path: "/templates", icon: "ðŸ“‘", roles: ["SuperAdmin"] },
        { name: "Ø§Ù„ØªÙ‚ÙŠÙŠÙ…", path: "/evaluation", icon: "â­", roles:["Employee", "SuperAdmin"] },
        { name: "Ù…Ø±ÙƒØ² Ø§Ù„Ù…Ø¹Ø±ÙØ©", path: "/knowledge", icon: "ðŸ“š", roles: ["Employee", "SuperAdmin"] },
      ];
      return links.filter(l => l.roles.includes(this.role));
    },
    requestLinks() {
      return [
        { name: "Ø·Ù„Ø¨ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª", path: "/requests/update-info" },
        { name: "Ø·Ù„Ø¨ Ù†Ù‚Ù„ Ù‚Ø³Ù…", path: "/requests/transfer" },
        { name: "Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø®Ø±ÙˆØ¬", path: "/requests/permission" },
        { name: "Ø·Ù„Ø¨ Ø¯ÙˆØ±Ø© ØªØ¯Ø±ÙŠØ¨ÙŠØ©", path: "/requests/training" },
        { name: "Ø·Ù„Ø¨ Ø²ÙˆØ§Ø¬", path: "/requests/marriage" },
        { name: "Ø·Ù„Ø¨ Ø¥Ù†ØªØ±Ù†Øª", path: "/requests/internet" },
        { name: "Ø·Ù„Ø¨ ØµÙŠØ§Ù†Ø©", path: "/requests/maintenance" },
      ];
    }
  },
  methods: {
    toggleRequests() {
      this.showRequests = !this.showRequests;
    },
    closeRequests() {
      this.showRequests = false;
    }
  }
};
</script>

<style>
.fade-enter-active, .fade-leave-active {
  transition: all 0.2s ease;
}
.fade-enter-from, .fade-leave-to {
  opacity: 0;
  transform: translateX(10px);
}
</style>
